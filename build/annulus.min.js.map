{"version":3,"sources":["webpack://annulus/webpack/bootstrap","webpack://annulus/./index.js","webpack://annulus/./src/annulus/annulus.js"],"names":["app","annulus","App","container_id","COLOR0","COLOR1","COLOR2","EXCITEMENT_SCALE","SVGArea","constructor","container_elem","svg_elem","document","createElementNS","setAttributeNS","viewbox","appendChild","v","_viewbox","Annulus","svgarea","_palette","_stress","_showDebug","_frame","_time","_speed","_animate","_thickness","_segs","_path","_debugg","update","start","color0","c","color1","color2","stress","e","showDebug","b","frame","f","animate","segments","n","thickness","rgbToHex","stressToColor","createPath","animateStep","timestamp","delta","window","requestAnimationFrame","scaled","colorLerp","c1","c2","x","Math","floor","rgb","toString","oscillator","i","period","PI","sin","r","out_segs","in_segs","t","s","pow","lastChild","removeChild","p","theta","theta_step","hdist","prng","next_theta","q","prev_px","prev_py","osc","re","re1","re2","prev_theta","tan","px","cos","py","cx1","cy1","cx2","cy2","toFixed","l1","h1","h2","console","log","getElementById","body","createElement","className","setupToolbox","toolbox","dat","GUI","f_a","addFolder","add","name","step","open","f_c","addColor","onFinishChange","f_p"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;AClFA;;;;AAEA;;AACA;;;AAIA,IAAIA,GAAG,GAAG,IAAIC,iBAAQC,GAAZ,CAAiB;AAAEC,cAAY,EAAE;AAAhB,CAAjB,CAAV,C;;;;;;;;;;;;;;;;;;ACPA,MAAMC,MAAM,GAAG,CAAE,EAAF,EAAM,GAAN,EAAW,EAAX,CAAf;AACA,MAAMC,MAAM,GAAG,CAAE,GAAF,EAAO,GAAP,EAAY,EAAZ,CAAf;AACA,MAAMC,MAAM,GAAG,CAAE,GAAF,EAAO,EAAP,EAAW,EAAX,CAAf;AACA,MAAMC,gBAAgB,GAAG,GAAzB;;AAGA,MAAMC,OAAN,CAAc;AACVC,aAAW,CAAE;AAAEC,kBAAc,GAAG;AAAnB,GAAF,EAA8B;AACrC,SAAKA,cAAL,GAAqBA,cAArB;AAEA,SAAKC,QAAL,GAAgBC,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,KAAvD,CAAhB;AACA,SAAKF,QAAL,CAAcG,cAAd,CAA6B,IAA7B,EAAmC,qBAAnC,EAA0D,eAA1D;AACA,SAAKC,OAAL,GAAe,CAAC,CAAD,EAAG,CAAH,EAAK,GAAL,EAAS,GAAT,CAAf;AACA,SAAKL,cAAL,CAAoBM,WAApB,CAAgC,KAAKL,QAArC;AACH;;AAED,MAAII,OAAJ,CAAYE,CAAZ,EAAe;AACX,SAAKN,QAAL,CAAcG,cAAd,CAA6B,IAA7B,EAAmC,SAAnC,EAA8CG,CAAC,CAAC,CAAD,CAAD,GAAO,GAAP,GAAaA,CAAC,CAAC,CAAD,CAAd,GAAoB,GAApB,GAA0BA,CAAC,CAAC,CAAD,CAA3B,GAAiC,GAAjC,GAAuCA,CAAC,CAAC,CAAD,CAAtF;AACA,SAAKC,QAAL,GAAeD,CAAf;AACH;;AAED,MAAIF,OAAJ,GAAc;AAAE,WAAO,KAAKG,QAAZ;AAAuB;;AAf7B;;AAkBd,MAAMC,OAAN,CAAc;AAEVV,aAAW,CAAEW,OAAF,EAAa;AACpB,SAAKC,QAAL,GAAgB,CAAEjB,MAAF,EAAUC,MAAV,EAAkBC,MAAlB,CAAhB;AACA,SAAKgB,OAAL,GAAe,GAAf;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,MAAL,GAAa,CAAb;AACA,SAAKC,KAAL,GAAY,CAAZ;AACA,SAAKC,MAAL,GAAa,QAAb;AACA,SAAKC,QAAL,GAAe,IAAf;AACA,SAAKC,UAAL,GAAiB,GAAjB;AACA,SAAKC,KAAL,GAAY,EAAZ;AACA,SAAKT,OAAL,GAAeA,OAAf;AAEAA,WAAO,CAACL,OAAR,GAAkB,CAAC,CAAC,CAAF,EAAI,CAAC,CAAL,EAAO,CAAP,EAAS,CAAT,CAAlB,CAZoB,CAcpB;;AACA,SAAKe,KAAL,GAAalB,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAb;;AACA,SAAKiB,KAAL,CAAWhB,cAAX,CAA0B,IAA1B,EAAgC,MAAhC,EAAwC,MAAxC;;AACA,SAAKM,OAAL,CAAaT,QAAb,CAAsBK,WAAtB,CAAkC,KAAKc,KAAvC,EAjBoB,CAmBpB;;AACA,SAAKC,OAAL,GAAenB,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,GAAvD,CAAf;AACA,SAAKO,OAAL,CAAaT,QAAb,CAAsBK,WAAtB,CAAkC,KAAKe,OAAvC;AAEA,SAAKC,MAAL;AACA,SAAKC,KAAL;AAEH;;AAED,MAAIC,MAAJ,GAAoB;AAAE,WAAO,KAAKb,QAAL,CAAc,CAAd,CAAP;AAA0B;;AAChD,MAAIa,MAAJ,CAAWC,CAAX,EAAoB;AAAE,SAAKd,QAAL,CAAc,CAAd,IAAkBc,CAAlB;AAAqB,SAAKH,MAAL;AAAgB;;AAC3D,MAAII,MAAJ,GAAoB;AAAE,WAAO,KAAKf,QAAL,CAAc,CAAd,CAAP;AAA0B;;AAChD,MAAIe,MAAJ,CAAWD,CAAX,EAAoB;AAAE,SAAKd,QAAL,CAAc,CAAd,IAAkBc,CAAlB;AAAqB,SAAKH,MAAL;AAAgB;;AAC3D,MAAIK,MAAJ,GAAoB;AAAE,WAAO,KAAKhB,QAAL,CAAc,CAAd,CAAP;AAA0B;;AAChD,MAAIgB,MAAJ,CAAWF,CAAX,EAAoB;AAAE,SAAKd,QAAL,CAAc,CAAd,IAAkBc,CAAlB;AAAqB,SAAKH,MAAL;AAAgB;;AAE3D,MAAIM,MAAJ,GAAgB;AAAE,WAAO,KAAKhB,OAAZ;AAAsB;;AACxC,MAAIgB,MAAJ,CAAWC,CAAX,EAAgB;AAAE,SAAKjB,OAAL,GAAeiB,CAAf;AAAkB,SAAKP,MAAL;AAAgB;;AAEpD,MAAIQ,SAAJ,GAAoB;AAAE,WAAO,KAAKjB,UAAZ;AAAyB;;AAC/C,MAAIiB,SAAJ,CAAcC,CAAd,EAAoB;AAAE,SAAKlB,UAAL,GAAiBkB,CAAjB;AAAoB,SAAKT,MAAL;AAAgB;;AAE1D,MAAIU,KAAJ,GAAoB;AAAE,WAAO,KAAKlB,MAAZ;AAAqB;;AAC3C,MAAIkB,KAAJ,CAAUC,CAAV,EAAoB;AAAE,SAAKnB,MAAL,GAAamB,CAAb;AAAgB,SAAKX,MAAL;AAAgB;;AAEtD,MAAIY,OAAJ,GAAoB;AAAE,WAAO,KAAKjB,QAAZ;AAAuB;;AAC7C,MAAIiB,OAAJ,CAAYH,CAAZ,EAAoB;AAAE,SAAKd,QAAL,GAAgBc,CAAhB;AAAmB,SAAKR,KAAL;AAAe;;AAExD,MAAIY,QAAJ,GAAoB;AAAE,WAAO,KAAKhB,KAAZ;AAAoB;;AAC1C,MAAIgB,QAAJ,CAAaC,CAAb,EAAoB;AAAE,SAAKjB,KAAL,GAAaiB,CAAb;AAAgB,SAAKd,MAAL;AAAe;;AAErD,MAAIe,SAAJ,GAAoB;AAAE,WAAO,KAAKnB,UAAZ;AAAyB;;AAC/C,MAAImB,SAAJ,CAAcD,CAAd,EAAoB;AAAE,SAAKlB,UAAL,GAAiBkB,CAAjB;AAAoB,SAAKd,MAAL;AAAe;;AAEzDA,QAAM,GAAG;AACL,SAAKF,KAAL,CAAWhB,cAAX,CAA0B,IAA1B,EAAgC,MAAhC,EAAwC,KAAKkC,QAAL,CAAe,KAAKC,aAAL,CAAoB,KAAK3B,OAAzB,CAAf,CAAxC;;AACA,SAAKQ,KAAL,CAAWhB,cAAX,CAA0B,IAA1B,EAAgC,GAAhC,EAAqC,KAAKoC,UAAL,EAArC;AACH;;AAEDjB,OAAK,GAAG;AACJ,QAAI,KAAKN,QAAL,IAAiB,KAArB,EAA6B;;AAE7B,UAAMwB,WAAW,GAAIC,SAAD,IAAe;AAC/B,UAAI,KAAKzB,QAAL,IAAiB,KAArB,EAA6B;AAC7B,UAAI,CAAC,KAAKF,KAAV,EAAkB,KAAKA,KAAL,GAAY2B,SAAZ;AAClB,UAAIC,KAAK,GAAG,KAAK5B,KAAL,GAAa2B,SAAzB;AAEA,WAAK5B,MAAL,IAAe6B,KAAK,GAAG,KAAK3B,MAA5B;;AACA,aAAO,KAAKF,MAAL,IAAe,GAAtB,EAA4B,KAAKA,MAAL,IAAe,GAAf;;AAE5B,WAAKC,KAAL,GAAa2B,SAAb;AACA,WAAKpB,MAAL;AACAsB,YAAM,CAACC,qBAAP,CAA8BJ,WAA9B;AACH,KAXD;;AAYAG,UAAM,CAACC,qBAAP,CAA8BJ,WAA9B;AACH;AAED;;;;AAEAF,eAAa,CAAEX,MAAF,EAAW;AACpB;AACA,QAAIkB,MAAM,GAAGlB,MAAM,GAAG/B,gBAAtB;AAEA,WAAQiD,MAAM,GAAG,EAAV,GACD,KAAKC,SAAL,CAAgB,KAAKpC,QAAL,CAAc,CAAd,CAAhB,EAAkC,KAAKA,QAAL,CAAc,CAAd,CAAlC,EAAoDmC,MAAM,GAAG,GAA7D,CADC,GAED,KAAKC,SAAL,CAAgB,KAAKpC,QAAL,CAAc,CAAd,CAAhB,EAAkC,KAAKA,QAAL,CAAc,CAAd,CAAlC,EAAoD,CAACmC,MAAM,GAAC,EAAR,IAAc,GAAlE,CAFN;AAGH;AAED;;;;;AAGAC,WAAS,CAAEC,EAAF,EAAMC,EAAN,EAAUC,CAAV,EAAc;AACnB,WAAO,CACHC,IAAI,CAACC,KAAL,CAAWH,EAAE,CAAC,CAAD,CAAF,GAAQC,CAAR,GAAYF,EAAE,CAAC,CAAD,CAAF,IAAS,MAAIE,CAAb,CAAvB,CADG,EAEHC,IAAI,CAACC,KAAL,CAAWH,EAAE,CAAC,CAAD,CAAF,GAAQC,CAAR,GAAYF,EAAE,CAAC,CAAD,CAAF,IAAS,MAAIE,CAAb,CAAvB,CAFG,EAGHC,IAAI,CAACC,KAAL,CAAWH,EAAE,CAAC,CAAD,CAAF,GAAQC,CAAR,GAAYF,EAAE,CAAC,CAAD,CAAF,IAAS,MAAIE,CAAb,CAAvB,CAHG,CAAP;AAIH;AAED;;;;AAEAZ,UAAQ,CAAEe,GAAF,EAAQ;AACZ,WAAO,MAAMA,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,CAAgB,EAAhB,CAAN,GAA4BD,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,CAAgB,EAAhB,CAA5B,GAAkDD,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,CAAgB,EAAhB,CAAzD;AACH;AAED;;;;;;AAIAC,YAAU,CAAEnB,CAAF,EAAKoB,CAAL,EAAQxB,KAAR,EAAgB;AACtB,UAAMyB,MAAM,GAAGN,IAAI,CAACO,EAAL,IAAWtB,CAAC,GAAC,IAAb,CAAf;AACA,WAAO,CAACe,IAAI,CAACQ,GAAL,CAAU,CAACH,CAAC,GAACpB,CAAF,GAAMJ,KAAP,IAAgByB,MAA1B,IAAqC,GAAtC,IAA6C,GAApD;AACH;AAED;;;;;AAGAjB,YAAU,GAAG;AACT,UAAMoB,CAAC,GAAG,GAAV;AACA,UAAMC,QAAQ,GAAG,KAAK1C,KAAtB,CAFS,CAEoB;;AAC7B,UAAM2C,OAAO,GAAG,KAAK3C,KAArB,CAHS,CAGmB;;AAC5B,UAAMkB,SAAS,GAAG,KAAKnB,UAAvB,CAJS,CAI0B;;AACnC,UAAM6C,CAAC,GAAGH,CAAC,IAAI,MAAIvB,SAAR,CAAX;AACA,UAAM2B,CAAC,GAAGb,IAAI,CAACc,GAAL,CAAU,KAAKrD,OAAf,EAAwB,CAAxB,IAA8B,IAAxC,CANS,CAQT;;AACA,WAAO,KAAKS,OAAL,CAAa6C,SAApB,EAAgC,KAAK7C,OAAL,CAAa8C,WAAb,CAA0B,KAAK9C,OAAL,CAAa6C,SAAvC;;AAEhC,QAAIE,CAAC,GAAG,EAAR;AAEA,QAAIC,KAAK,GAAE,CAAX;AACA,QAAIC,UAAU,GAAGnB,IAAI,CAACO,EAAL,GAAQ,CAAT,GAAYG,QAA5B;AACA,QAAIU,KAAK,GAAE,CAAX,CAfS,CAiBT;;AACA,QAAIC,IAAI,GAAG,SAAX,CAlBS,CAkBa;;AACtB,QAAIC,UAAU,GAAG,YAAW;AACpBD,UAAI,IAAMA,IAAI,IAAI,EAAlB;AACAA,UAAI,IAAMA,IAAI,KAAK,CAAnB;AACAA,UAAI,IAAMA,IAAI,IAAI,EAAlB;AACA,UAAIE,CAAC,GAAEF,IAAI,IAAI,CAAC,CAAD,KAAK,CAAT,CAAJ,GAAkB,GAAzB,CAJoB,CAKpB;;AACA,aAAOH,KAAK,GAAGC,UAAU,GAAGI,CAA5B;AACH,KAPL;;AASA,QAAIC,OAAO,GAAE,CAAb;AAAgB,QAAIC,OAAO,GAAE,CAAb;;AAEhB,SAAK,IAAIpB,CAAC,GAAE,CAAZ,EAAeA,CAAC,IAAIK,QAApB,EAA8BL,CAAC,EAA/B,EAAmC;AAE/B,UAAIqB,GAAG,GAAE,KAAKtB,UAAL,CAAiBM,QAAjB,EAA2BL,CAAC,GAAGK,QAA/B,EAAyC,KAAK/C,MAA9C,CAAT;AACA,UAAIgE,EAAE,GAAElB,CAAC,GAAG,CAACiB,GAAG,GAAC,EAAL,IAAYb,CAAZ,IAAiBJ,CAAC,GAAC,CAAnB,CAAZ;AACA,UAAImB,GAAG,GAACnB,CAAC,GAAG,CAACiB,GAAG,GAAC,EAAL,IAAYb,CAAZ,IAAiBJ,CAAC,GAAC,EAAnB,CAAZ;AACA,UAAIoB,GAAG,GAACpB,CAAC,GAAG,CAAC,IAAEiB,GAAF,GAAM,EAAP,IAAYb,CAAZ,IAAiBJ,CAAC,GAAC,EAAnB,CAAZ;AAEA,UAAIqB,UAAU,GAAEZ,KAAhB;AACAA,WAAK,IAAIC,UAAU,IAAI,IAAEO,GAAF,GAAM,GAAV,CAAnB,CAR+B,CAS/B;;AAEA,UAAIrB,CAAC,IAAIK,QAAT,EAAoBQ,KAAK,GAAG,IAAElB,IAAI,CAACO,EAAf;AAEpBa,WAAK,GAAG,IAAE,CAAH,GAAMpB,IAAI,CAAC+B,GAAL,CAAU,CAACb,KAAK,GAACY,UAAP,IAAmB,CAA7B,CAAb;AAEA,UAAIE,EAAE,GAAEhC,IAAI,CAACiC,GAAL,CAAUf,KAAV,IAAoBS,EAA5B;AACA,UAAIO,EAAE,GAAElC,IAAI,CAACQ,GAAL,CAAUU,KAAV,IAAoBS,EAA5B;AAEA,UAAIQ,GAAG,GAAC,CAACnC,IAAI,CAACiC,GAAL,CAAUH,UAAV,IAAyBV,KAAK,GAAGpB,IAAI,CAACQ,GAAL,CAAUsB,UAAV,CAAlC,IAA4DF,GAApE;AACA,UAAIQ,GAAG,GAAC,CAACpC,IAAI,CAACQ,GAAL,CAAUsB,UAAV,IAAyBV,KAAK,GAAGpB,IAAI,CAACiC,GAAL,CAAUH,UAAV,CAAlC,IAA4DF,GAApE;AAEA,UAAIS,GAAG,GAAC,CAACrC,IAAI,CAACiC,GAAL,CAAUf,KAAV,IAAoBE,KAAK,GAAGpB,IAAI,CAACQ,GAAL,CAAUU,KAAV,CAA7B,IAAmDW,GAA3D;AACA,UAAIS,GAAG,GAAC,CAACtC,IAAI,CAACQ,GAAL,CAAUU,KAAV,IAAoBE,KAAK,GAAGpB,IAAI,CAACiC,GAAL,CAAUf,KAAV,CAA7B,IAAmDW,GAA3D;;AAEA,UAAIxB,CAAC,IAAI,CAAT,EAAa;AACTY,SAAC,IAAI,OAAO,IAAEU,EAAT,GAAc,GAAd,GAAoB,IAAEA,EAA3B;AACAH,eAAO,GAAG,IAAEG,EAAZ;AAAgBF,eAAO,GAAG,IAAEE,EAAZ;AACnB;;AACDV,OAAC,IAAI,OACCkB,GAAG,CAACI,OAAJ,CAAY,CAAZ,CADD,GACkB,GADlB,GACwBH,GAAG,CAACG,OAAJ,CAAY,CAAZ,CADxB,GACyC,GADzC,GAECF,GAAG,CAACE,OAAJ,CAAY,CAAZ,CAFD,GAEkB,GAFlB,GAEwBD,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAFxB,GAEyC,GAFzC,GAGCP,EAAE,CAACO,OAAH,CAAW,CAAX,CAHD,GAGiB,GAHjB,GAGuBL,EAAE,CAACK,OAAH,CAAW,CAAX,CAH5B;;AAKA,UAAI,KAAK7E,UAAT,EAAsB;AAElB;AAEA,YAAI8E,EAAE,GAAGzF,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAT;AACAwF,UAAE,CAACvF,cAAH,CAAkB,IAAlB,EAAwB,cAAxB,EAAwC,OAAxC;AACAuF,UAAE,CAACvF,cAAH,CAAkB,IAAlB,EAAwB,QAAxB,EAAkC,OAAlC;AACAuF,UAAE,CAACvF,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,MACnBoF,GAAG,CAACE,OAAJ,CAAY,CAAZ,CADmB,GACF,GADE,GACID,GAAG,CAACC,OAAJ,CAAY,CAAZ,CADJ,GACqB,IADrB,GAEnBP,EAAE,CAACO,OAAH,CAAW,CAAX,CAFmB,GAEH,GAFG,GAEGL,EAAE,CAACK,OAAH,CAAW,CAAX,CAFH,GAEmB,IAFnB,GAGnBJ,GAAG,CAACI,OAAJ,CAAY,CAAZ,CAHmB,GAGF,GAHE,GAGIH,GAAG,CAACG,OAAJ,CAAY,CAAZ,CAHJ,GAGqB,IAHrB,GAInBf,OAAO,CAACe,OAAR,CAAgB,CAAhB,CAJmB,GAIE,GAJF,GAIQd,OAJR,GAIkB,IAJ/C;;AAKA,aAAKvD,OAAL,CAAaf,WAAb,CAAyBqF,EAAzB;;AAEA,YAAIC,EAAE,GAAG1F,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAT;AACAyF,UAAE,CAACxF,cAAH,CAAkB,IAAlB,EAAwB,MAAxB,EAAgC,SAAhC;AACAwF,UAAE,CAACxF,cAAH,CAAkB,IAAlB,EAAwB,OAAxB,EAAiC,MAAjC;AACAwF,UAAE,CAACxF,cAAH,CAAkB,IAAlB,EAAwB,QAAxB,EAAkC,MAAlC;AACAwF,UAAE,CAACxF,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BkF,GAAG,CAACI,OAAJ,CAAY,CAAZ,IAAe,IAA5C;AACAE,UAAE,CAACxF,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BmF,GAAG,CAACG,OAAJ,CAAY,CAAZ,IAAe,IAA5C;;AACA,aAAKrE,OAAL,CAAaf,WAAb,CAAyBsF,EAAzB;;AAEA,YAAIC,EAAE,GAAG3F,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAT;AACA0F,UAAE,CAACzF,cAAH,CAAkB,IAAlB,EAAwB,MAAxB,EAAgC,MAAhC;AACAyF,UAAE,CAACzF,cAAH,CAAkB,IAAlB,EAAwB,OAAxB,EAAiC,MAAjC;AACAyF,UAAE,CAACzF,cAAH,CAAkB,IAAlB,EAAwB,QAAxB,EAAkC,MAAlC;AACAyF,UAAE,CAACzF,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BoF,GAAG,CAACE,OAAJ,CAAY,CAAZ,IAAe,IAA5C;AACAG,UAAE,CAACzF,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BqF,GAAG,CAACC,OAAJ,CAAY,CAAZ,IAAe,IAA5C;;AACA,aAAKrE,OAAL,CAAaf,WAAb,CAAyBuF,EAAzB;;AAEA,YAAIpE,CAAC,GAAGvB,QAAQ,CAACC,eAAT,CAAyB,4BAAzB,EAAuD,QAAvD,CAAR;AACAsB,SAAC,CAACrB,cAAF,CAAiB,IAAjB,EAAuB,MAAvB,EAA+B,KAA/B;AACAqB,SAAC,CAACrB,cAAF,CAAiB,IAAjB,EAAuB,GAAvB,EAA4B,MAA5B;AACAqB,SAAC,CAACrB,cAAF,CAAiB,IAAjB,EAAuB,IAAvB,EAA6B+E,EAAE,CAACO,OAAH,CAAW,CAAX,CAA7B;AACAjE,SAAC,CAACrB,cAAF,CAAiB,IAAjB,EAAuB,IAAvB,EAA6BiF,EAAE,CAACK,OAAH,CAAW,CAAX,CAA7B;;AACA,aAAKrE,OAAL,CAAaf,WAAb,CAAyBmB,CAAzB;AACH;;AAEDkD,aAAO,GAAEQ,EAAT;AAAaP,aAAO,GAAES,EAAT;AAEhB;;AAEDhB,SAAK,GAAE,CAAP;AACAC,cAAU,GAAE,EAAEnB,IAAI,CAACO,EAAL,GAAQ,CAAV,IAAaI,OAAzB;;AAEA,SAAK,IAAIN,CAAC,GAAE,CAAZ,EAAgBA,CAAC,IAAIM,OAArB,EAA8BN,CAAC,EAA/B,EAAoC;AAChC,UAAIqB,GAAG,GAAE,KAAKtB,UAAL,CAAiBO,OAAjB,EAA0BN,CAAC,GAAGM,OAA9B,EAAuC,KAAKhD,MAA5C,CAAT;AACA,UAAIgE,EAAE,GAAEf,CAAR,CAFgC,CAEtB;;AACV,UAAIgB,GAAG,GAAChB,CAAR,CAHgC,CAGtB;;AACV,UAAIiB,GAAG,GAACjB,CAAR,CAJgC,CAItB;;AAEV,UAAIkB,UAAU,GAAEZ,KAAhB;AACAA,WAAK,IAAIC,UAAU,IAAI,IAAEO,GAAF,GAAM,GAAV,CAAnB;AAEA,UAAIrB,CAAC,IAAIM,OAAT,EAAmBO,KAAK,GAAG,IAAElB,IAAI,CAACO,EAAf;AAEnBa,WAAK,GAAG,IAAE,CAAH,GAAMpB,IAAI,CAAC+B,GAAL,CAAU,CAACb,KAAK,GAACY,UAAP,IAAmB,CAA7B,CAAb;AAEA,UAAIE,EAAE,GAAEhC,IAAI,CAACiC,GAAL,CAAUf,KAAV,IAAoBS,EAA5B;AACA,UAAIO,EAAE,GAAElC,IAAI,CAACQ,GAAL,CAAUU,KAAV,IAAoBS,EAA5B;AAEA,UAAIQ,GAAG,GAAC,CAACnC,IAAI,CAACiC,GAAL,CAAUH,UAAV,IAAyBV,KAAK,GAAGpB,IAAI,CAACQ,GAAL,CAAUsB,UAAV,CAAlC,IAA4DF,GAApE;AACA,UAAIQ,GAAG,GAAC,CAACpC,IAAI,CAACQ,GAAL,CAAUsB,UAAV,IAAyBV,KAAK,GAAGpB,IAAI,CAACiC,GAAL,CAAUH,UAAV,CAAlC,IAA4DF,GAApE;AAEA,UAAIS,GAAG,GAAC,CAACrC,IAAI,CAACiC,GAAL,CAAUf,KAAV,IAAoBE,KAAK,GAAGpB,IAAI,CAACQ,GAAL,CAAUU,KAAV,CAA7B,IAAmDW,GAA3D;AACA,UAAIS,GAAG,GAAC,CAACtC,IAAI,CAACQ,GAAL,CAAUU,KAAV,IAAoBE,KAAK,GAAGpB,IAAI,CAACiC,GAAL,CAAUf,KAAV,CAA7B,IAAmDW,GAA3D;;AAEA,UAAIxB,CAAC,IAAI,CAAT,EAAa;AACTY,SAAC,IAAI,OAAO,IAAEU,EAAT,GAAc,GAAd,GAAoB,IAAEA,EAA3B;AACAH,eAAO,GAAG,IAAEG,EAAZ;AAAgBF,eAAO,GAAG,IAAEE,EAAZ;AACnB;;AACDV,OAAC,IAAI,OACCkB,GAAG,CAACI,OAAJ,CAAY,CAAZ,CADD,GACkB,GADlB,GACwBH,GAAG,CAACG,OAAJ,CAAY,CAAZ,CADxB,GACyC,GADzC,GAECF,GAAG,CAACE,OAAJ,CAAY,CAAZ,CAFD,GAEkB,GAFlB,GAEwBD,GAAG,CAACC,OAAJ,CAAY,CAAZ,CAFxB,GAEyC,GAFzC,GAGCP,EAAE,CAACO,OAAH,CAAW,CAAX,CAHD,GAGiB,GAHjB,GAGuBL,EAAE,CAACK,OAAH,CAAW,CAAX,CAH5B;AAIH;;AAGD,WAAOtB,CAAP;AACH;;AAnQS;;AAwQd,MAAM5E,GAAN,CAAU;AACNO,aAAW,CAAE;AAAEN,gBAAY,GAAE;AAAhB,GAAF,EAAyB;AAChCqG,WAAO,CAACC,GAAR,CAAa,8FAAb,EADgC,CAGhC;;AACA,SAAK/F,cAAL,GAAqBE,QAAQ,CAAC8F,cAAT,CAAyBvG,YAAzB,CAArB;AACA,QAAI,OAAO,KAAKO,cAAZ,IAA8B,WAAlC,EACI,KAAKA,cAAL,GAAqBE,QAAQ,CAAC+F,IAA9B;AAEJ,QAAIhG,QAAQ,GAAGC,QAAQ,CAACgG,aAAT,CAAwB,KAAxB,CAAf;AACIjG,YAAQ,CAACkG,SAAT,GAAqB,SAArB;AACJ,SAAKnG,cAAL,CAAoBM,WAApB,CAAiCL,QAAjC;AAEA,SAAKS,OAAL,GAAe,IAAIZ,OAAJ,CAAa;AAAEE,oBAAc,EAAEC;AAAlB,KAAb,CAAf;AAEA,SAAKV,OAAL,GAAe,IAAIkB,OAAJ,CAAa,KAAKC,OAAlB,CAAf;AAEA,SAAK0F,YAAL;AACH;;AAEDA,cAAY,GAAG;AACX,SAAKC,OAAL,GAAe,IAAIC,GAAG,CAACC,GAAR,EAAf;AAEA,QAAIC,GAAG,GAAG,KAAKH,OAAL,CAAaI,SAAb,CAAwB,SAAxB,CAAV;AACAD,OAAG,CAACE,GAAJ,CAAS,KAAKnH,OAAd,EAAuB,QAAvB,EAAiC,GAAjC,EAAsCM,gBAAtC,EAAyD8G,IAAzD,CAA+D,QAA/D,EAA0EC,IAA1E,CAAgF,OAAO/G,gBAAvF;AACA2G,OAAG,CAACK,IAAJ,GALW,CAOX;;AACA,QAAIC,GAAG,GAAG,KAAKT,OAAL,CAAaI,SAAb,CAAwB,QAAxB,CAAV;AACAK,OAAG,CAACC,QAAJ,CAAc,KAAKxH,OAAnB,EAA4B,QAA5B,EAAuCoH,IAAvC,CAA6C,KAA7C,EAAqDK,cAArD,CAAqE,MAAM;AAAE,WAAKzH,OAAL,CAAa+B,MAAb;AAAwB,KAArG;AACAwF,OAAG,CAACC,QAAJ,CAAc,KAAKxH,OAAnB,EAA4B,QAA5B,EAAuCoH,IAAvC,CAA6C,QAA7C;AACAG,OAAG,CAACC,QAAJ,CAAc,KAAKxH,OAAnB,EAA4B,QAA5B,EAAuCoH,IAAvC,CAA6C,MAA7C,EAXW,CAYnB;;AACQG,OAAG,CAACD,IAAJ;AAEA,QAAII,GAAG,GAAG,KAAKZ,OAAL,CAAaI,SAAb,CAAwB,YAAxB,CAAV;AACAQ,OAAG,CAACP,GAAJ,CAAS,KAAKnH,OAAd,EAAuB,WAAvB,EAAqCoH,IAArC,CAA2C,OAA3C,EAhBW,CAiBX;;AACAM,OAAG,CAACP,GAAJ,CAAS,KAAKnH,OAAd,EAAuB,UAAvB,EAAmC,EAAnC,EAAuC,GAAvC,EAA6CoH,IAA7C,CAAmD,UAAnD,EAAgEC,IAAhE,CAAsE,CAAtE;AACAK,OAAG,CAACP,GAAJ,CAAS,KAAKnH,OAAd,EAAuB,WAAvB,EAAoC,CAApC,EAAuC,CAAvC,EAA2CoH,IAA3C,CAAiD,WAAjD,EAA+DC,IAA/D,CAAqE,IAArE;AACAK,OAAG,CAACP,GAAJ,CAAS,KAAKnH,OAAd,EAAuB,SAAvB,EAAmCoH,IAAnC,CAAyC,SAAzC;AACAM,OAAG,CAACJ,IAAJ;AAEH;;AA3CK;;eA8CK;AACXrH,KAAG,EAAGA;AADK,C","file":"annulus.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","import annulus from './src/annulus/annulus.js';\n\n//export default annulus;\n/*export default {\n    App : annulus.App\n};*/\n\nvar app = new annulus.App( { container_id: 'main' } );\n","const COLOR0 = [ 60, 200, 80 ];\nconst COLOR1 = [ 250, 195, 50 ];\nconst COLOR2 = [ 250, 30, 50 ];\nconst EXCITEMENT_SCALE = 1.0;\n\n\nclass SVGArea {\n    constructor( { container_elem = null } ) {\n        this.container_elem =container_elem;\n\n        this.svg_elem = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        this.svg_elem.setAttributeNS(null, 'preserveAspectRatio', 'xMidYMid meet' );\n        this.viewbox = [0,0,100,100];\n        this.container_elem.appendChild(this.svg_elem);\n    }\n\n    set viewbox(v) {\n        this.svg_elem.setAttributeNS(null, 'viewBox', v[0] + ' ' + v[1] + ' ' + v[2] + ' ' + v[3]);\n        this._viewbox =v;\n    }\n\n    get viewbox() { return this._viewbox; }   \n}\n\nclass Annulus {\n\n    constructor( svgarea  ) {\n        this._palette = [ COLOR0, COLOR1, COLOR2 ];\n        this._stress = 0.0;\n        this._showDebug = false;\n        this._frame =0;\n        this._time =0;\n        this._speed =0.000005;\n        this._animate =true;\n        this._thickness =0.5;\n        this._segs =40;\n        this.svgarea = svgarea;\n\n        svgarea.viewbox = [-2,-2,4,4];\n        \n        // Create an SVG node for the actual visualisation\n        this._path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        this._path.setAttributeNS(null, 'fill', 'blue');\n        this.svgarea.svg_elem.appendChild(this._path);\n        \n        // Add another group for debug elements\n        this._debugg = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n        this.svgarea.svg_elem.appendChild(this._debugg);\n\n        this.update();\n        this.start();\n\n    }\n    \n    get color0()        { return this._palette[0]; }\n    set color0(c)       { this._palette[0] =c; this.update(); }\n    get color1()        { return this._palette[1]; }\n    set color1(c)       { this._palette[1] =c; this.update(); }\n    get color2()        { return this._palette[2]; }\n    set color2(c)       { this._palette[2] =c; this.update(); }\n\n    get stress()    { return this._stress; }\n    set stress(e)   { this._stress = e; this.update(); }\n\n    get showDebug()     { return this._showDebug; }\n    set showDebug(b)    { this._showDebug =b; this.update(); }\n\n    get frame()         { return this._frame; }\n    set frame(f)        { this._frame =f; this.update(); }\n\n    get animate()       { return this._animate; }\n    set animate(b)      { this._animate = b; this.start(); }\n\n    get segments()      { return this._segs; }\n    set segments(n)     { this._segs = n; this.update() }\n\n    get thickness()     { return this._thickness; }\n    set thickness(n)    { this._thickness =n; this.update() }\n\n    update() {\n        this._path.setAttributeNS(null, 'fill', this.rgbToHex( this.stressToColor( this._stress ) ) );\n        this._path.setAttributeNS(null, 'd', this.createPath() );\n    }\n\n    start() {\n        if( this._animate == false ) return;\n\n        const animateStep = (timestamp) => {\n            if( this._animate == false ) return;\n            if( !this._time ) this._time =timestamp;\n            let delta = this._time - timestamp;\n            \n            this._frame += delta * this._speed;\n            while( this._frame >= 1.0 ) this._frame -= 1.0;\n            \n            this._time = timestamp;\n            this.update();\n            window.requestAnimationFrame( animateStep );\n        }\n        window.requestAnimationFrame( animateStep );\n    }\n\n    /* Linearly interpolate over _palette 0..2 by @stress on interval [0;1], using .5 as midpoint \n     */\n    stressToColor( stress ) {\n        // Linearly interpolate over the colors in _palette using .5 as midpoint\n        let scaled = stress / EXCITEMENT_SCALE;\n\n        return (scaled < .5)\n            ? this.colorLerp( this._palette[0], this._palette[1], scaled * 2.0 )\n            : this.colorLerp( this._palette[1], this._palette[2], (scaled-.5) * 2.0 );\n    }\n\n    /* Given two rgb arrays [r,g,b] @c1 and @c2,\n     * linearly interpolate between @c1 and @c2 at @x \n     */\n    colorLerp( c1, c2, x ) {\n        return [\n            Math.floor(c2[0] * x + c1[0] * (1.0-x)),\n            Math.floor(c2[1] * x + c1[1] * (1.0-x)),\n            Math.floor(c2[2] * x + c1[2] * (1.0-x)) ];\n    }\n\n    /* Given an array of rgb values @rgb, return its HTML hex notation\n     */\n    rgbToHex( rgb ) {\n        return '#' + rgb[0].toString(16) + rgb[1].toString(16) + rgb[2].toString(16);\n    }\n\n    /* Divides a sinewave 'oscillator' into @n segments, \n     * then returns from the @i-th segment the value @frame on the interval [0;1)\n     * The returned value is on the interval [0;1]\n     */\n    oscillator( n, i, frame ) {\n        const period = Math.PI * (n*.789);\n        return (Math.sin( (i/n + frame) * period ) + 1.0) / 2.0; \n    }\n\n    /* Return the SVG path obtained by rendering with the current parameters.\n     * Additionally, if showDebug is true, this function adds points and handles to the _debugg SVG group element.\n     */\n    createPath() {\n        const r = 1.0;\n        const out_segs = this._segs; // Number of inner segments\n        const in_segs = this._segs; // Number of outer segments\n        const thickness = this._thickness; // Thickness of the ring\n        const t = r * (1.0-thickness);\n        const s = Math.pow( this._stress, 2 ) + 0.05;\n\n        // Clear out the debug stuff\n        while( this._debugg.lastChild ) this._debugg.removeChild( this._debugg.lastChild );\n\n        let p = \"\";\n        \n        let theta =0;\n        let theta_step =(Math.PI*2)/out_segs;\n        let hdist =0;\n       \n        // TODO: either use or delete\n        let prng = 123456789; // Seed for prng\n        let next_theta = function() {\n                prng ^= ( prng << 13 );\n                prng ^= ( prng >>> 7 );\n                prng ^= ( prng << 17 );\n                let q =prng / (-1>>>0) + 1.0;\n                //console.log( q );\n                return theta + theta_step * q;\n            };\n            \n        let prev_px =0; let prev_py =0;\n\n        for( let i =0; i <= out_segs; i++) {\n            \n            let osc =this.oscillator( out_segs, i % out_segs, this._frame);  \n            let re =r + (osc+.5)  * s / (r*4);\n            let re1=r + (osc+.5)  * s / (r*16);\n            let re2=r + (1-osc+.5)* s / (r*16);\n            \n            let prev_theta =theta;\n            theta += theta_step * (1-osc+.49);\n            //theta =next_theta();\n\n            if( i == out_segs ) theta = 2*Math.PI;\n\n            hdist =(4/3)*Math.tan( (theta-prev_theta)/4 );\n\n            let px =Math.cos( theta ) * re;\n            let py =Math.sin( theta ) * re;\n            \n            let cx1=(Math.cos( prev_theta ) - hdist * Math.sin( prev_theta )) * re1;\n            let cy1=(Math.sin( prev_theta ) + hdist * Math.cos( prev_theta )) * re1;\n\n            let cx2=(Math.cos( theta ) + hdist * Math.sin( theta  )) * re2;\n            let cy2=(Math.sin( theta ) - hdist * Math.cos( theta  )) * re2;\n            \n            if( i == 0 ) {\n                p += \" M\" + 1*re + \",\" + 0*re;\n                prev_px = 1*re; prev_py = 0*re;\n            }\n            p += \" C\" \n                + cx1.toFixed(5) + \",\" + cy1.toFixed(5) + \" \" \n                + cx2.toFixed(5) + \",\" + cy2.toFixed(5) + \" \" \n                + px.toFixed(5) + \",\" + py.toFixed(5);\n            \n            if( this._showDebug ) {\n\n                // Only boring debug-stuffs below\n\n                let l1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n                l1.setAttributeNS(null, 'stroke-width', '0.002');\n                l1.setAttributeNS(null, 'stroke', 'white');\n                l1.setAttributeNS(null, 'd', \"M\"  \n                        + cx2.toFixed(5) + \",\" + cy2.toFixed(5) + \" L\" \n                        + px.toFixed(5) + \",\" + py.toFixed(5) + \" M\"\n                        + cx1.toFixed(5) + \",\" + cy1.toFixed(5) + \" L\" \n                        + prev_px.toFixed(5) + \",\" + prev_py + \" Z\" ); \n                this._debugg.appendChild(l1);\n                \n                let h1 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n                h1.setAttributeNS(null, 'fill', 'magenta');\n                h1.setAttributeNS(null, 'width', '0.02');\n                h1.setAttributeNS(null, 'height', '0.02');\n                h1.setAttributeNS(null, 'x', cx1.toFixed(5)-0.01 );\n                h1.setAttributeNS(null, 'y', cy1.toFixed(5)-0.01 );\n                this._debugg.appendChild(h1);\n                \n                let h2 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n                h2.setAttributeNS(null, 'fill', 'cyan');\n                h2.setAttributeNS(null, 'width', '0.02');\n                h2.setAttributeNS(null, 'height', '0.02');\n                h2.setAttributeNS(null, 'x', cx2.toFixed(5)-0.01 );\n                h2.setAttributeNS(null, 'y', cy2.toFixed(5)-0.01 );\n                this._debugg.appendChild(h2);\n                \n                let c = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n                c.setAttributeNS(null, 'fill', 'red');\n                c.setAttributeNS(null, 'r', '0.01');\n                c.setAttributeNS(null, 'cx', px.toFixed(5) );\n                c.setAttributeNS(null, 'cy', py.toFixed(5) );\n                this._debugg.appendChild(c);\n            }\n\n            prev_px =px; prev_py =py;\n\n        }\n        \n        theta =0;\n        theta_step =-(Math.PI*2)/in_segs;\n\n        for( let i =0 ; i <= in_segs; i++ ) {\n            let osc =this.oscillator( in_segs, i % in_segs, this._frame);  \n            let re =t;// + (osc)  * 0.02\n            let re1=t;// + (osc)  * 0.01\n            let re2=t;// + (1-osc)* 0.01\n            \n            let prev_theta =theta;\n            theta += theta_step * (1-osc+.49);\n\n            if( i == in_segs ) theta = 2*Math.PI;\n\n            hdist =(4/3)*Math.tan( (theta-prev_theta)/4 );\n\n            let px =Math.cos( theta ) * re;\n            let py =Math.sin( theta ) * re;\n            \n            let cx1=(Math.cos( prev_theta ) - hdist * Math.sin( prev_theta )) * re1;\n            let cy1=(Math.sin( prev_theta ) + hdist * Math.cos( prev_theta )) * re1;\n\n            let cx2=(Math.cos( theta ) + hdist * Math.sin( theta  )) * re2;\n            let cy2=(Math.sin( theta ) - hdist * Math.cos( theta  )) * re2;\n            \n            if( i == 0 ) {\n                p += \" M\" + 1*re + \",\" + 0*re;\n                prev_px = 1*re; prev_py = 0*re;\n            }\n            p += \" C\" \n                + cx1.toFixed(5) + \",\" + cy1.toFixed(5) + \" \" \n                + cx2.toFixed(5) + \",\" + cy2.toFixed(5) + \" \" \n                + px.toFixed(5) + \",\" + py.toFixed(5);\n        }\n\n\n        return p;\n    }\n\n\n}\n\nclass App {\n    constructor( { container_id ='' } ) {\n        console.log( 'niemand ter aarde weet, hoe het eigenlijk begon, het droevige verhaal van de nozem en de non' );\n\n        // Create a viewport container inside the given element id\n        this.container_elem =document.getElementById( container_id );\n        if( typeof this.container_elem == 'undefined' )\n            this.container_elem =document.body;\n\n        let svg_elem = document.createElement( 'img' );\n            svg_elem.className = 'svgarea';\n        this.container_elem.appendChild( svg_elem );\n\n        this.svgarea = new SVGArea( { container_elem: svg_elem } );\n\n        this.annulus = new Annulus( this.svgarea );\n     \n        this.setupToolbox();\n    }\n\n    setupToolbox() {\n        this.toolbox = new dat.GUI( );\n        \n        let f_a = this.toolbox.addFolder( 'Annulus' );\n        f_a.add( this.annulus, 'stress', 0.0, EXCITEMENT_SCALE ).name( 'Stress' ).step( 0.01 * EXCITEMENT_SCALE );\n        f_a.open();\n\n        // Colors toolbox\n        let f_c = this.toolbox.addFolder( 'Colors' );\n        f_c.addColor( this.annulus, 'color0' ).name( 'Low' ).onFinishChange( () => { this.annulus.update(); } ) ;\n        f_c.addColor( this.annulus, 'color1' ).name( 'Medium' );\n        f_c.addColor( this.annulus, 'color2' ).name( 'High' );\n//        f_c.addColor( this.viewport, 'backgroundColor' ).name( 'Background' );\n        f_c.open();\n        \n        let f_p = this.toolbox.addFolder( 'Parameters' );\n        f_p.add( this.annulus, 'showDebug' ).name( 'Debug' );\n        //f_p.add( this.annulus, 'frame', 0.0, 1.0 ).name( 'Frame' ).step( 0.01);\n        f_p.add( this.annulus, 'segments', 10, 100 ).name( 'Segments' ).step( 1 );\n        f_p.add( this.annulus, 'thickness', 0, 1 ).name( 'Thickness' ).step( 0.05 );\n        f_p.add( this.annulus, 'animate' ).name( 'Animate' );\n        f_p.open();\n\n    }\n}\n\nexport default {\n    App : App\n};\n"],"sourceRoot":""}